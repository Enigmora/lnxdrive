# LNXDrive Default Configuration

sync:
  root: ~/OneDrive
  poll_interval: 30  # seconds between remote checks
  debounce_delay: 2  # seconds to wait after local change

# Files-on-Demand (FUSE) settings
fuse:
  # Directory where the virtual filesystem will be mounted
  mount_point: "~/OneDrive"
  # Automatically mount when daemon starts
  auto_mount: true
  # Directory for caching hydrated file content
  cache_dir: "~/.local/share/lnxdrive/cache"
  # Maximum cache size in gigabytes
  cache_max_size_gb: 10
  # Percentage of cache size that triggers auto-dehydration (1-100)
  dehydration_threshold_percent: 80
  # Maximum days since last access before file is eligible for dehydration
  dehydration_max_age_days: 30
  # Interval in minutes between dehydration sweeps
  dehydration_interval_minutes: 60
  # Maximum concurrent file downloads
  hydration_concurrency: 8

rate_limiting:
  delta_requests_per_minute: 10
  upload_concurrent: 4
  upload_requests_per_minute: 60
  download_concurrent: 8
  metadata_requests_per_minute: 100

large_files:
  threshold_mb: 100
  chunk_size_mb: 10
  max_concurrent_large: 1

conflicts:
  default_strategy: manual  # manual | keep_local | keep_remote | keep_both
  # diff_tool: meld  # Override auto-detected diff tool (meld, vimdiff, diff)
  rules: []
  # Pattern-based auto-resolution rules (first match wins):
  # rules:
  #   - pattern: "**/*.tmp"
  #     strategy: keep_remote
  #   - pattern: "**/*.docx"
  #     strategy: keep_both
  #   - pattern: "Documents/**"
  #     strategy: keep_local

logging:
  level: info  # trace | debug | info | warn | error
  file: ~/.local/share/lnxdrive/lnxdrive.log
  max_size_mb: 50
  max_files: 5

auth:
  app_id: null  # Azure App ID (set via lnxdrive auth login --app-id)
